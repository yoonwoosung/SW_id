{% extends "layout.html" %}
{% from 'shared/macros.html' import how_to_use_carousel_modal %}

{% block page_class %}easy-mode-page{% endblock %}

{% block content %}
<div class="container easy-mode-container">
    <div class="easy-header">
        <h1>쉬운 농장 관리</h1>
    </div>

    <div class="easy-menu-grid">
        <a href="{{ url_for('easy_edit_bio') }}" class="easy-menu-button">
            <div class="easy-button-icon">✍️</div>
            <div class="easy-button-text">
                <h2>소개 글<br>고치기</h2>
                <p>농장과 농장주님을 소개해요</p>
            </div>
        </a>
        <a href="{{ url_for('easy_create_experience') }}" class="easy-menu-button">
            <div class="easy-button-icon">➕</div>
            <div class="easy-button-text">
                <h2>체험<br>만들기</h2>
                <p>새로운 체험을 등록해요</p>
            </div>
        </a>
        <a href="{{ url_for('easy_modify_experience_list') }}" class="easy-menu-button">
            <div class="easy-button-icon">✏️</div>
            <div class="easy-button-text">
                <h2>체험<br>수정하기</h2>
                <p>기존 체험 내용을 고쳐요</p>
            </div>
        </a>
        <a href="{{ url_for('easy_reservations') }}" class="easy-menu-button">
            <div class="easy-button-icon">🗓️</div>
            <div class="easy-button-text">
                <h2>예약<br>살펴보기</h2>
                <p>예약 현황을 확인해요</p>
            </div>
        </a>
        <a href="{{ url_for('easy_communication') }}" class="easy-menu-button">
            <div class="easy-button-icon">💬</div>
            <div class="easy-button-text">
                <h2>소통<br>창구</h2>
                <p>손님들 이야기들 듣고 답해요</p>
            </div>
        </a>
        <a href="#" class="easy-menu-button" data-toggle="modal" data-target="#guide-modal">
            <div class="easy-button-icon">❓</div>
            <div class="easy-button-text">
                <h2>이용<br>방법</h2>
                <p>쉬운 농장 관리 사용법</p>
            </div>
        </a>
    </div>
</div>

{% set carousel_images = [
    {'src': 'guide_images/1.png', 'title': '확대보기에서 이용방법'},
    {'src': 'guide_images/2.png'},
    {'src': 'guide_images/3.png'},
    {'src': 'guide_images/4.png'},
    {'src': 'guide_images/5.png'},
    {'src': 'guide_images/6.png'},
    {'src': 'guide_images/7.png'},
    {'src': 'guide_images/8.jpg'},
    {'src': 'guide_images/9.png'},
    {'src': 'guide_images/10.png'},
    {'src': 'guide_images/11.png'}
] %}
{{ how_to_use_carousel_modal(modal_id='guide-modal', close_btn_id='guide-modal-close', carousel_id='guide-carousel-modal', images=carousel_images) }}

<style>
.modal-fullscreen .modal-content {
    height: 100vh;
    width: 100vw;
    max-width: 100vw;
    margin: 0;
    border-radius: 0;
    background-color: rgba(0,0,0,0.85);
    display: flex;
    justify-content: center;
    align-items: center;
}

.modal-fullscreen .carousel-inner {
    width: auto;
    height: auto;
    max-width: 90vw;
    max-height: 90vh;
}

.modal-fullscreen .carousel-item img {
    width: auto;
    height: auto;
    max-width: 100%;
    max-height: 85vh; /* 화면 높이의 85%로 제한 */
    object-fit: contain; /* 이미지 비율 유지 */
    margin: auto;
}

.modal-fullscreen .close-btn {
    position: absolute;
    top: 20px;
    right: 35px;
    font-size: 40px;
    font-weight: bold;
    color: white;
    text-shadow: 0 1px 3px rgba(0,0,0,0.5);
    z-index: 1051; /* 캐러셀 컨트롤보다 위에 오도록 설정 */
    opacity: 0.8;
}
.modal-fullscreen .close-btn:hover {
    color: #f1f1f1;
    opacity: 1;
}

.modal-fullscreen .carousel-control-prev, 
.modal-fullscreen .carousel-control-next {
    width: 5%;
    z-index: 1050;
}

.modal-fullscreen .carousel-control-prev-icon,
.modal-fullscreen .carousel-control-next-icon {
    background-color: rgba(0, 0, 0, 0.3);
    border-radius: 50%;
    padding: 20px;
}
</style>

{% endblock %}